Модель потоков:

------Главный (консольный и файловый ввод-вывод)----
 |  |                            /        /
 |  |---------------------------/        /
 |  |- Потоки вычислений ------/        /
 |  |-------------------------/        /
 |                                    /
 |----Сетевой (сетевой i/o)----------/

Сигналы для потоков
bool done[] - Поток вычислений выполнил работу
bool stop   - Остановить работу потоков

Главный поток:
    Для каждого потока
        Создаем thread_task(vec[i], answer[i]) и назначаем их потокам
    
    Пока есть треугольники
        threads_done = 0
        Пока threads_done < threads_count
            for (d : done)
                if d == true
                    threads_done++
                    Изменяем thread_task(vec[threads_done], answer[threads_done])
        stop[] = true;
        Выгружаем ans[] в файл
        Загружаем новые треугольники
    stop[] = true
    
Рабочие потоки:
    Пока &stop == false
        ans[] = compute()
        done = true
        пока done == true
            yield
    остановка потока
